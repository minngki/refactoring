# 3.5 전역 데이터

전역 데이터를 함부로 사용한 프로그래머들에게는 벌을 주는 지옥 4층에 사는 악마들이 만들었다는 말이 돈다.
'_유령 같은 원격작용_'처럼, 버그는 끊임없이 발생하는데 그 원인이 되는 코드를 찾아내기가 어렵다. 클래스 변수와 싱글톤에서도 같은 문제가 발생한다.

전역 데이터가 가변이라면 특히 다루기 까다로운데, 프로그램이 구동된 후에는 값이 바뀌지 않는다고 보장할 수 있는 전역 데이터는 그나마 안전한 편이다.

전역 데이터가 조금뿐이라면 감당할 수 있겠지만, 많아지면 걷잡을 수 없게 된다. 전역 데이터가 아주 조금만 있더라도 캡슐화해서 소프트웨어를 진화하는 데 따른 변화에 대처할 수 있다.

### 1. 변수 캡슐화하기
- **다른 코드에서 오염시킬 가능성이 있는 데이터를 발견할 때마다** 이 기법을 가장 먼저 적용한다.

  - 이런 데이터를 함수로 감싸는 것만으로도 데이터를 수정하는 부분을 쉽게 찾을 수 있다.
  - 데이터의 접근을 통제할 수 있다.

- **접근자 함수들을 클래스나 모듈에 집어넣고 그 안에서만 사용할 수 있도록** 접근 범위를 최소로 줄이는 것도 좋다.
